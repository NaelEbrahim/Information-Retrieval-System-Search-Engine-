{% extends 'base.html' %}

{% block content %}
<h2>Results for "{{ query }}"</h2>
{% if dataset %}
    <p>Dataset: {{ dataset }}</p>
{% endif %}

<!-- count the result -->
<p>Number of results: {{ results|length }}</p>
    
{% if results %}
    {% for r in results %}
        <div class="result">
            <a href="/document/{{ r.doc_id }}?dataset={{ dataset }}"><h3>{{ r.doc_id }}</h3></a>
            <p>{{ r.text[:300] }}...</p>
        </div>
    {% endfor %}
{% else %}
    <p>No results found.</p>
{% endif %}
<a href="{{ url_for('index') }}">Back to search</a>
{% endblock %}
